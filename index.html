<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0f1923">
    <title>JETWIN | VIP</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500;700&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- JETWIN VIP STYLE --- */
        :root {
            --bg-dark: #0f1923; 
            --panel-bg: #151f2b;
            --neon-blue: #00f2ff;
            --neon-purple: #bc13fe;
            --crash-red: #ff4655;
            --win-green: #09ff00;
            --gold: #ffd700;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            touch-action: manipulation;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-dark);
            font-family: 'Montserrat', sans-serif;
            color: white;
            display: flex;
            flex-direction: column;
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
            width: 100%;
        }

        /* --- CANLI LENT (TICKER) --- */
        .news-ticker {
            background: linear-gradient(90deg, #1a1a1a, #000);
            color: #ccc;
            font-size: 11px;
            padding: 5px 0;
            white-space: nowrap;
            overflow: hidden;
            border-bottom: 1px solid #333;
            position: relative;
            z-index: 60;
        }

        .ticker-content {
            display: inline-block;
            animation: scroll-left 20s linear infinite;
        }

        @keyframes scroll-left {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .winner-span { color: var(--gold); font-weight: bold; margin-right: 20px; }

        /* --- HEADER --- */
        .header {
            height: 55px;
            background: rgba(15, 25, 35, 0.98);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            border-bottom: 1px solid #333;
            z-index: 50;
        }

        .logo {
            font-weight: 900;
            font-size: 20px;
            letter-spacing: 1px;
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .balance-pill {
            background: #253341;
            padding: 6px 12px;
            border-radius: 15px;
            font-family: 'Roboto Mono', monospace;
            font-weight: 700;
            font-size: 14px;
            color: var(--gold);
            border: 1px solid rgba(255, 215, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* --- INTRO / WELCOME SCREEN (NEW!) --- */
        .welcome-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 25, 35, 0.95);
            backdrop-filter: blur(10px);
            z-index: 999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 30px;
            transition: opacity 0.5s;
        }

        .welcome-box {
            background: #1a2733;
            padding: 30px;
            border-radius: 20px;
            border: 2px solid var(--neon-blue);
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.2);
            max-width: 400px;
            width: 100%;
        }

        .welcome-title {
            font-size: 26px;
            font-weight: 900;
            color: white;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .welcome-text {
            font-size: 14px;
            color: #aaa;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .feature-list {
            text-align: left;
            margin-bottom: 25px;
            color: #ddd;
            font-size: 14px;
        }
        .feature-item { margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }

        .start-btn {
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 900;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            box-shadow: 0 5px 20px rgba(188, 19, 254, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* --- OYUN SAH∆èSƒ∞ --- */
        .game-stage {
            flex: 1;
            position: relative;
            background: radial-gradient(circle at center, #1a2733 0%, #0f1923 100%);
            overflow: hidden;
            width: 100%;
        }

        canvas { display: block; width: 100%; height: 100%; }

        .multiplier-overlay {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            pointer-events: none;
        }

        .multiplier-big {
            font-size: 60px;
            font-weight: 900;
            font-family: 'Roboto Mono', monospace;
            color: white;
            text-shadow: 0 0 20px rgba(0, 242, 255, 0.4);
        }

        .status-text { font-size: 14px; color: #888; margin-top: 5px; font-weight: 500; }

        .crashed-style {
            color: var(--crash-red) !important;
            text-shadow: 0 0 25px rgba(255, 70, 85, 0.6) !important;
            animation: shake 0.4s both;
        }

        /* --- CONTROL PANEL --- */
        .controls-area {
            background: var(--panel-bg);
            padding: 15px;
            padding-bottom: 25px;
            border-top: 2px solid #2a3b4c;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 50;
        }

        .bet-row { display: flex; gap: 8px; height: 45px; }
        .quick-btn { background: #2c3e50; border: none; color: #ccc; border-radius: 8px; font-weight: bold; width: 50px; }
        .bet-input-container { flex: 1; position: relative; }
        
        .bet-input {
            width: 100%; height: 100%; background: #0f1923;
            border: 1px solid #444; border-radius: 8px; color: white;
            font-size: 18px; font-weight: bold; text-align: center;
            font-family: 'Roboto Mono', monospace;
        }

        .main-btn {
            width: 100%; height: 60px; border-radius: 12px;
            font-size: 22px; font-weight: 900; text-transform: uppercase;
            cursor: pointer; border: none; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .btn-green { background: linear-gradient(92deg, #00b09b 0%, #96c93d 100%); color: #052b00; }
        .btn-orange { background: linear-gradient(92deg, #ff9966 0%, #ff5e62 100%); color: white; display: none; }

        .footer-actions { display: flex; justify-content: space-between; gap: 8px; }
        .link-btn {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            color: #999; padding: 10px 0; border-radius: 8px; font-size: 11px;
            font-weight: 600; flex: 1; cursor: pointer;
        }

    </style>
</head>
<body>

    <div class="welcome-overlay" id="welcomeScreen">
        <div class="welcome-box">
            <div class="welcome-title">JETWIN <span style="color:var(--neon-blue)">VIP</span></div>
            <p class="welcome-text">Az…ôrbaycanƒ±n …ôn s√ºr…ôtli v…ô etibarlƒ± Crash oyunu.</p>
            
            <div class="feature-list">
                <div class="feature-item">‚ö° <b>S√ºr…ôtli √ñd…ôni≈ül…ôr</b> (Anƒ±nda kartda)</div>
                <div class="feature-item">üî• <b>Y√ºks…ôk ∆èmsallar</b> (50x-…ô q…ôd…ôr)</div>
                <div class="feature-item">üîí <b>100% T…ôhl√ºk…ôsiz</b> v…ô ≈û…ôffaf</div>
            </div>

            <button class="start-btn" onclick="closeWelcome()">OYUNA BA≈ûLA üöÄ</button>
        </div>
    </div>

    <div class="news-ticker">
        <div class="ticker-content" id="tickerText">
            </div>
    </div>

    <div class="header">
        <div class="logo">JETWIN</div>
        <div class="balance-pill">
            <span id="balance">0.00</span> ‚Çº
        </div>
    </div>

    <div class="game-stage" id="stage">
        <canvas id="starsCanvas"></canvas>
        <canvas id="graphCanvas"></canvas>
        
        <div class="multiplier-overlay">
            <div class="multiplier-big" id="multiplierDisplay">1.00x</div>
            <div class="status-text" id="statusText">M…ôrcinizi edin</div>
        </div>
    </div>

    <div class="controls-area">
        <div class="bet-row">
            <button class="quick-btn" onclick="changeBet(-5)">-5</button>
            <div class="bet-input-container">
                <input type="number" id="betInput" class="bet-input" value="10" readonly>
            </div>
            <button class="quick-btn" onclick="changeBet(5)">+5</button>
            <button class="quick-btn" onclick="changeBet(20)">+20</button>
        </div>

        <button class="main-btn btn-green" id="betBtn" onclick="startGame()">M∆èRC ET</button>
        <button class="main-btn btn-orange" id="cashoutBtn" onclick="cashOut()">PULU G√ñT√úR</button>

        <div class="footer-actions">
            <button class="link-btn" onclick="openPromo()">üîë PROMO</button>
            <button class="link-btn" onclick="contactAdmin('depozit')">üí∞ DEPOZƒ∞T</button>
            <button class="link-btn" onclick="contactAdmin('cekim')">üè¶ √áIXARI≈û</button>
        </div>
    </div>

    <script>
        // --- JETWIN SYSTEM V5.0 ---

        // 1. D∆èYƒ∞≈û∆èNL∆èR
        let balance = 0.00;
        const ADMIN_PHONE = "994507516137"; 
        
        const CODES = {
            "START20": 20,
            "JETADMIN": 1000 
        };
        let usedCodes = JSON.parse(localStorage.getItem('JETWIN_USED_CODES')) || [];

        // OYUN LOGƒ∞KASI
        let isPlaying = false;
        let currentBet = 0;
        let multiplier = 1.00;
        let crashPoint = 0;
        let startTime;
        let animationFrame;

        // UI ELEMENTL∆èRƒ∞
        const balanceEl = document.getElementById('balance');
        const multiEl = document.getElementById('multiplierDisplay');
        const statusText = document.getElementById('statusText');
        const betBtn = document.getElementById('betBtn');
        const cashoutBtn = document.getElementById('cashoutBtn');
        const betInput = document.getElementById('betInput');

        // CANVAS
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');
        const starsCanvas = document.getElementById('starsCanvas');
        const sCtx = starsCanvas.getContext('2d');
        let width, height;

        // --- TICKER Sƒ∞STEMƒ∞ (MOTƒ∞VASƒ∞YA) ---
        const fakeWinners = [
            "Elvin_99 qazandƒ± 45 AZN", "Murad.K qazandƒ± 120 AZN", "Aysel_Baku qazandƒ± 80 AZN",
            "User777 qazandƒ± 200 AZN", "Kamran_Az qazandƒ± 35 AZN", "Samir.M qazandƒ± 500 AZN"
        ];
        
        function startTicker() {
            const container = document.getElementById('tickerText');
            let textHTML = "";
            // T…ôsad√ºfi olaraq qalibl…ôri d√ºz√ºr√ºk
            for(let i=0; i<10; i++) {
                let randomWin = fakeWinners[Math.floor(Math.random() * fakeWinners.length)];
                textHTML += `<span class="winner-span">üéâ ${randomWin}</span>`;
            }
            container.innerHTML = textHTML;
        }
        startTicker();

        // --- WELCOME SCREEN ---
        function closeWelcome() {
            const screen = document.getElementById('welcomeScreen');
            screen.style.opacity = '0';
            setTimeout(() => { screen.style.display = 'none'; }, 500);
        }

        // --- OYUN ENGINE ---
        function resize() {
            width = canvas.width = starsCanvas.width = document.getElementById('stage').offsetWidth;
            height = canvas.height = starsCanvas.height = document.getElementById('stage').offsetHeight;
            initStars();
        }
        window.addEventListener('resize', resize);
        
        let stars = [];
        function initStars() {
            stars = [];
            for(let i=0; i<80; i++) {
                stars.push({
                    x: Math.random() * width, y: Math.random() * height,
                    size: Math.random() * 1.5, speed: Math.random() * 0.5 + 0.1
                });
            }
        }
        function drawStars() {
            sCtx.clearRect(0, 0, width, height);
            sCtx.fillStyle = "rgba(255, 255, 255, 0.6)";
            stars.forEach(s => {
                s.y += s.speed;
                if(s.y > height) s.y = 0;
                sCtx.beginPath(); sCtx.arc(s.x, s.y, s.size, 0, Math.PI*2); sCtx.fill();
            });
            requestAnimationFrame(drawStars);
        }

        function changeBet(val) {
            if(isPlaying) return;
            let v = parseInt(betInput.value) + val;
            if(v < 1) v = 1;
            betInput.value = v;
        }

        function startGame() {
            let bet = parseInt(betInput.value);
            if(balance < bet) {
                statusText.innerText = "Balans kifay…ôt etmir!";
                statusText.style.color = "#ff4655";
                setTimeout(() => { statusText.innerText = "M…ôrcinizi edin"; statusText.style.color = "#888"; }, 2000);
                return;
            }

            balance -= bet;
            currentBet = bet;
            updateUI();

            isPlaying = true;
            multiplier = 1.00;
            multiEl.innerText = "1.00x";
            multiEl.classList.remove('crashed-style');
            multiEl.style.color = "white";
            statusText.innerText = "üöÄ U√ßu≈üda...";
            statusText.style.color = "#00f2ff";
            
            betBtn.style.display = 'none';
            cashoutBtn.style.display = 'block';

            crashPoint = getCrashPoint();
            startTime = Date.now();
            loop();
        }

        function getCrashPoint() {
            const r = Math.random();
            if(r < 0.35) return 1.05 + Math.random() * 0.45; 
            if(r < 0.70) return 1.50 + Math.random() * 1.50; 
            if(r < 0.90) return 3.00 + Math.random() * 4.00; 
            return 10.00 + Math.random() * 20.00;            
        }

        function loop() {
            if(!isPlaying) return;
            let elapsed = (Date.now() - startTime) / 1000;
            multiplier = 1.00 + (elapsed * elapsed * 0.08); 

            if(multiplier >= crashPoint) {
                crash();
                return;
            }

            multiEl.innerText = multiplier.toFixed(2) + "x";
            drawGraph(elapsed);
            animationFrame = requestAnimationFrame(loop);
        }

        function drawGraph(t) {
            ctx.clearRect(0, 0, width, height);
            ctx.beginPath(); ctx.lineWidth = 4; ctx.strokeStyle = "#00f2ff"; ctx.lineCap = "round";
            
            let startX = 0; let startY = height;
            let endX = Math.min(width - 20, t * 60); 
            let endY = height - Math.min(height - 50, (multiplier - 1) * 120);

            ctx.moveTo(startX, startY);
            ctx.quadraticCurveTo(endX / 2, height, endX, endY);
            ctx.stroke();

            // Glow Effect
            ctx.shadowBlur = 15; ctx.shadowColor = "#00f2ff"; ctx.stroke(); ctx.shadowBlur = 0;

            ctx.font = "30px Arial"; ctx.fillText("üöÄ", endX - 15, endY - 10);
        }

        function cashOut() {
            if(!isPlaying) return;
            isPlaying = false;
            cancelAnimationFrame(animationFrame);

            let winAmount = currentBet * multiplier;
            balance += winAmount;
            updateUI();

            multiEl.style.color = "#09ff00";
            statusText.innerText = `QAZANDINIZ: ${winAmount.toFixed(2)} ‚Çº`;
            statusText.style.color = "#09ff00";
            resetGame();
        }

        function crash() {
            isPlaying = false;
            cancelAnimationFrame(animationFrame);

            multiEl.innerText = crashPoint.toFixed(2) + "x";
            multiEl.classList.add('crashed-style');
            statusText.innerText = "PARTLADI! üí•";
            statusText.style.color = "#ff4655";
            
            ctx.fillStyle = "rgba(255, 70, 85, 0.2)";
            ctx.fillRect(0, 0, width, height);
            resetGame();
        }

        function resetGame() {
            setTimeout(() => {
                betBtn.style.display = 'block';
                cashoutBtn.style.display = 'none';
                ctx.clearRect(0,0, width, height);
                multiEl.classList.remove('crashed-style');
                multiEl.style.color = "white";
                multiEl.innerText = "1.00x";
                statusText.innerText = "M…ôrcinizi edin";
                statusText.style.color = "#888";
            }, 2500);
        }

        function updateUI() { balanceEl.innerText = balance.toFixed(2); }

        function openPromo() {
            let code = prompt("Promo Kodu daxil edin:");
            if(!code) return;
            code = code.toUpperCase().trim();

            if(usedCodes.includes(code) && code !== "JETADMIN") {
                alert("‚ùå X∆èTA: Bu kod artƒ±q istifad…ô olunub!");
                return;
            }

            if(CODES[code]) {
                balance += CODES[code];
                if(code !== "JETADMIN") {
                    usedCodes.push(code);
                    localStorage.setItem('JETWIN_USED_CODES', JSON.stringify(usedCodes));
                }
                updateUI();
                alert(`‚úÖ Uƒüurlu! Balans: +${CODES[code]} AZN`);
            } else {
                alert("‚ùå Yanlƒ±≈ü kod.");
            }
        }

        function contactAdmin(type) {
            let text = "";
            if(type === 'depozit') text = "Salam, JETWIN VIP. Balans artƒ±rmaq ist…ôyir…ôm.";
            else {
                if(balance <= 0) return alert("Balansƒ±nƒ±z yoxdur!");
                text = `Salam, balansƒ±mda ${balance.toFixed(2)} AZN var. √áƒ±xarƒ±≈ü etm…ôk ist…ôyir…ôm.`;
            }
            window.open(`https://wa.me/${ADMIN_PHONE}?text=${encodeURIComponent(text)}`, '_blank');
        }

        // Ba≈ülanƒüƒ±c
        resize(); drawStars(); updateUI();

    </script>
</body>
</html>
